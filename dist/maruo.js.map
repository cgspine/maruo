{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9bbe5953a55768b952da","webpack:///./src/index.js","webpack:///./src/core/index.js","webpack:///./src/util/const.js","webpack:///./src/vm/index.js","webpack:///./src/vm/observable.js","webpack:///./src/util/data.js","webpack:///./src/util/is.js","webpack:///./src/util/index.js","webpack:///./src/config.js","webpack:///./src/util/log.js"],"names":[],"mappings":"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","file":"maruo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"maruo\"] = factory();\n\telse\n\t\troot[\"maruo\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9bbe5953a55768b952da\n **/","/**\n * Created by cgspine on 16/7/9.\n */\nimport mixinCore from './core/index'\nimport mixinViewModel from './vm/index'\n\nfunction maruo(el) {\n    return new maruo.init(el)\n}\n\nmaruo.init = function (el) {\n    this[0] = this.el = el\n}\n\nmaruo.fn = maruo.prototype = maruo.init.prototype\n\nmaruo.vms = {}\n\nmixinCore(maruo)\nmixinViewModel(maruo)\n\nexport default maruo\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/**\n * Created by cgspine on 16/7/9.\n */\nimport { rword } from '../util/const'\n\nexport default function (maruo) {\n\n    /**\n     * shadow copy\n     * @param dest\n     * @param source\n     * @returns {*}\n     */\n    maruo.shadowCopy = function (dest, source) {\n        for(var prop in source){\n            dest[prop] = source[prop]\n        }\n        return dest\n    }\n\n    /**\n     * a empty function\n     */\n    maruo.noop = function () {\n        \n    }\n    \n    \n    maruo.rword = rword\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/index.js\n **/","/**\n * Created by cgspine on 16/7/14.\n */\n\nexport const rword = /[^, ]+/g\n\nexport const toString = String.prototype.toString\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/const.js\n **/","/**\n * Created by cgspine on 16/7/9.\n */\nimport { Observable } from './observable'\nimport { warn } from '../util/log'\n\nexport default function mixinViewModel(maruo){\n    maruo.define = function (definition) {\n        var $id = definition.$id;\n        if(!$id){\n            warn('vm.$id must be defined')\n        }\n        if (maruo.vms[$id]) {\n            throw Error('error: [' + $id + '] had been defined!')\n        }\n        var vm = {}\n        new Observable(vm,definition, {\n            id:$id\n        })\n        return maruo.vms[$id] = vm\n    }\n    \n    maruo.scan = function (el) {\n        \n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/vm/index.js\n **/","/**\n * Created by cgspine on 16/7/14.\n */\n\nimport { toJson } from  '../util/data'\nimport { noop,hideProperty } from  '../util/index'\n\nimport { \n    oneObject,\n    makeHashCode\n} from '../util/index'\nimport config from '../config'\n\nvar $$skipArray = config.$$skipArray\n\nexport function Observable(vm,definition, options) {\n    this.vm = vm\n    vm.__ob__ = this;\n    options = options || {}\n    options.$skipArray = {}\n    if (definition.$skipArray) {\n        options.$skipArray =  oneObject(definition.$skipArray)\n        delete definition.$skipArray\n    }\n    var hashcode = makeHashCode('$')\n    options.id = options.id || hashcode\n    options.hashcode = hashcode\n\n    this.makeAccessors(definition,options)\n\n}\n\nObservable.prototype.hideProperties = function (keys, options) {\n    function hasOwnKey(key) {\n        return keys[key] === true\n    }\n    hideProperty(this.vm, 'hasOwnProperty', hasOwnKey)\n    hideProperty(this.vm, '$id', options.id)\n    hideProperty(this.vm, '$hashcode', options.hashcode)\n    hideProperty(this.vm, '$track', Object.keys(keys).sort().join(';;'))\n    hideProperty(this.vm, '$element', null)\n    hideProperty(this.vm, '$run', this.run.bind(this.vm))\n    hideProperty(this.vm, '$wait', this.wait.bind(this.vm))\n    hideProperty(this.vm, '$render', 0)\n    hideProperty(this.vm, '$events', {})\n\n    var self = this;\n    hideProperty(this, '$watch', function () {\n        if (arguments.length === 2) {\n            return self.watch.apply(self.vm, arguments)\n        } else {\n            throw '$watch方法参数不对'\n        }\n    })\n    hideProperty(this.vm, '$fire', this.emit.bind(this.vm))\n\n}\n\nObservable.prototype.wait = function () {\n    this.vm.$events.$$wait$$ = true\n}\n\nObservable.prototype.run = function() {\n    var host = this.vm.$events\n    delete host.$$wait$$\n    if (host.$$dirty$$) {\n        delete host.$$dirty$$\n        avalon.rerenderStart = new Date\n        var id = this.$id\n        var dotIndex = id.indexOf('.')\n        if (dotIndex > 0) {\n            avalon.batch(id.slice(0, dotIndex))\n        } else {\n            avalon.batch(id)\n        }\n    }\n}\n\nObservable.prototype.watch = function (expr, callback) {\n\n}\n\nObservable.prototype.emit = function (expr, a, b) {\n    var list = self.$events[expr]\n}\n\nObservable.prototype.makeAccessors = function (definition,options) {\n    this.makePureModelAccessor()\n\n    var key,val,sid, values = {}\n    options.$skipArray = options.$skipArray || {}\n    for (key in definition) {\n        if(definition.hasOwnProperty(key)){\n            if ($$skipArray[key]) {\n                continue\n            }\n            val = values[key] = definition[key]\n            if (!this.isSkip(key, val, options.$skipArray)) {\n                sid = options.id + '.' + key\n                this.makeAccessor(sid,key)\n            }\n        }\n    }\n    for (key in values) {\n        if(values.hasOwnProperty(key)){\n            //对普通监控属性或访问器属性进行赋值\n            this.vm[key] = values[key]\n            if (key in options.$skipArray) {\n                delete values[key]\n            } else {\n                values[key] = true\n            }\n        }\n    }\n\n    this.hideProperties(values,options)\n}\n\nObservable.prototype.makePureModelAccessor = function () {\n    Object.defineProperty(this.vm, \"$model\", {\n        get:function () {\n            return toJson(this)\n        },\n        set: noop,\n        enumerable: false,\n        configurable: true\n    })\n}\n\n\nObservable.prototype.makeAccessor = function (sid,key) {\n    var val = NaN\n   Object.defineProperty(this.vm,key,{\n       get: function () {\n           return val\n       },\n       set: function (newValue) {\n           if (val === newValue) {\n               return\n           }\n           val = newValue\n       },\n       enumerable: true,\n       configurable: true\n   })\n}\n\nObservable.prototype.isSkip = function (key, value, skipArray) {\n    // 判定此属性能否转换访问器\n    return key.charAt(0) === '$' ||\n        skipArray[key] ||\n        (typeof value === 'function') ||\n        (value && value.nodeName && value.nodeType > 0)\n}\n\n    \n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vm/observable.js\n **/","/**\n * Created by cgspine on 16/7/14.\n */\n\nimport {\n    type\n} from './is'\n\nexport function toJson(val) {\n    var xtype = type(val)\n    if (xtype === 'array') {\n        var array = []\n        for (var i = 0; i < val.length; i++) {\n            array[i] = toJson(val[i])\n        }\n        return array\n    } else if (xtype === 'object') {\n        var obj = {}\n        for (i in val) {\n            if (i === '__proxy__' || i === '__data__' || i === '__const__')\n                continue\n            if (val.hasOwnProperty(i)) {\n                var value = val[i]\n                obj[i] = value && value.nodeType ? value : toJson(value)\n            }\n        }\n        return obj\n    }\n    return val\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/data.js\n **/","/**\n * Created by cgspine on 16/7/14.\n */\n\nimport { \n    rword,\n    toString\n} from './const'\n\nvar rwindow = /^\\[object (?:Window|DOMWindow|global)\\]$/\n\nvar class2type = {}\n'Boolean Number String Function Array Date RegExp Object Error'.replace(rword, function (name) {\n    class2type['[object ' + name + ']'] = name.toLowerCase()\n})\n\nexport function type(obj) {\n    if (obj == null) {\n        return String(obj)\n    }\n    return typeof obj === 'object' || typeof obj === 'function' ?  \n    class2type[toString.call(obj)] || 'object' : \n        typeof obj\n}\n\nexport function isFunction(fn) {\n    return typeof fn === 'function'\n}\n\nexport function isWinodw(win) {\n    return rwindow.test(toString.call(win))\n}\n\nexport function isPlainObject(obj) {\n    return toString.call(obj) === '[object Object]' && \n        Object.getPrototypeOf(obj) === Object.prototype\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/is.js\n **/","/**\n * Created by cgspine on 16/7/9.\n */\n\nimport { rword } from './const'\n\nvar rcamelize = /[-_]([^-_])/g;\nvar rhyphenate = /([a-z\\d])([A-Z]+)/g;\nvar rhashcode = /\\d\\.\\d{4}/\n\nexport function oneObject(array, val) {\n    if (typeof array === 'string') {\n        array = array.match(rword) || []\n    }\n    var result = {},\n        i = 0, n = array.length,\n        value = val != void 0 ? val : 1\n    for(; i < n; i++){\n        result[array[i]] = value\n    }\n    return result\n}\n\n\nexport function camelize(str) {\n    str.replace(rcamelize, function (matched, element) {\n        return element.toUpperCase();\n    })\n}\n\n\nexport function hyphenate(str){\n    return str.replace(rhyphenate,'$1-$2').toLowerCase()\n}\n\n\n//生成UUID http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\nexport const makeHashCode = typeof performance !== 'undefined' && performance.now ?\n    function (prefix) {\n        prefix = prefix || 'maruo'\n        return (prefix + performance.now()).replace('.', '')\n    } :\n    function (prefix)   {\n        prefix = prefix || 'maruo'\n        return String(Math.random() + Math.random()).replace(rhashcode, prefix)\n    }\n\nexport  const noop = function () {\n    \n}()\n\nexport function hideProperty(host, name, value) {\n    Object.defineProperty(host, name, {\n        value: value,\n        writable: true,\n        enumerable: false,\n        configurable: true\n    })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/index.js\n **/","/**\n * Created by cgspine on 16/7/9.\n */\nimport { oneObject } from './util'\n\nexport default {\n    debug: true,\n    \n    $$skipArray: oneObject('$id,$render,$track,$parent,$element,$watch,$fire,$events,$model,$skipArray,$accessors,$hashcode,$run,$wait,__proxy__,__data__,__const__,__ob__')\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/config.js\n **/","/**\n * Created by cgspine on 16/7/9.\n */\nimport config from '../config'\n\nexport function log() {\n    if (config.debug) {\n        console.log(arguments)\n    }\n}\n\nexport function warn() {\n    if (config.debug) {\n        console.warn(arguments)\n    }\n}\n\nexport function err() {\n    if (config.debug) {\n        console.error(arguments)\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/log.js\n **/"],"sourceRoot":""}