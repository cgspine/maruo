<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        var a = {a:1, b: {c:2}}
        function Observer(val){this.val = val;Object.defineProperty(this.val, '__ob__', this)}
        function defineReactive(obj, key, val) {
            var old = val
            Object.defineProperty(obj,key, {
                get:function () {
                    console.log(old);
                    return old;
                },
                set: function (newVal) {
                    old = newVal;
                }
            })
        }
        function observe(obj) {
            for(var key in obj){
                if(obj.hasOwnProperty(key)){
                    if(typeof obj[key] === 'object') {
                        observe(obj[key])
                    }
                }
                defineReactive(obj,key, obj[key])
            }
        }
        observe(a);
        a.b
        console.log('=========')
        a.b.c
    </script>
</body>
</html>